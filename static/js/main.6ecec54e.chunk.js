(this["webpackJsonpmy-planer"]=this["webpackJsonpmy-planer"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(11),l=n.n(i),r=(n(99),n(144)),o=n(156),s=n(150),u=n(148),d=n(61),j=n(147),b=n(79),O=n.n(b),v=(n(100),n(32)),m=n(75),f=n(146),g=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],h=["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"],x=864e5,p=function(e){for(var t=e-((new Date(e).getDay()||7)-1)*x,n=[],a=0;a<7;a++)n.push(t+x*a);return n},k=function(e){var t=new Date(e);return"".concat(t.getDate(),"  ").concat(h[t.getMonth()])},y=(n(101),n(16)),S=n(78),N=n.n(S),C=(n(102),n(71),n(151)),w=n(155),D=n(145),F=n(142),I=n(143),J=n(141),T=n(37),B=n.n(T),M=n(76),E=n(15),L=n(152),z=n(149),A=n(153),G=n(6);B.a.locale("ru");var P=function(e){var t=e.isOpen,n=e.task,c=e.onSave,i=e.onClose,l=Object(a.useState)(),r=Object(v.a)(l,2),o=r[0],s=r[1];Object(a.useEffect)((function(){s(null!==n&&void 0!==n?n:{})}),[n]);var u=function(){if(o){var e,t,n,a,l,r={id:o.id,date:null!==(e=o.date)&&void 0!==e?e:null,urgent:null!==(t=o.urgent)&&void 0!==t&&t,name:null!==(n=o.name)&&void 0!==n?n:null,description:null!==(a=o.description)&&void 0!==a?a:null,status:null!==(l=o.status)&&void 0!==l?l:null};c(r),i()}};return Object(G.jsx)(E.a,{utils:M.a,locale:"ru",children:Object(G.jsx)("div",{children:Object(G.jsxs)(w.a,{open:t,onClose:i,"aria-labelledby":"form-dialog-title",children:[Object(G.jsx)(J.a,{id:"form-dialog-title",children:(null===o||void 0===o?void 0:o.id)?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438":"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),Object(G.jsxs)(F.a,{children:[Object(G.jsx)(I.a,{children:new Date((null===o||void 0===o?void 0:o.date)?null===o||void 0===o?void 0:o.date:0).toLocaleDateString()}),Object(G.jsx)("form",{name:"taskForm",onSubmit:u,children:Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(L.a,{disableToolbar:!0,lang:"ru",variant:"inline",format:"DD.MM.yyyy",margin:"normal",id:"date",label:"\u0414\u0430\u0442\u0430",value:null===o||void 0===o?void 0:o.date,onChange:function(e){var t;s(Object(y.a)(Object(y.a)({},o),{},{date:null!==(t=null===e||void 0===e?void 0:e.valueOf())&&void 0!==t?t:null}))}}),Object(G.jsx)(z.a,{control:Object(G.jsx)(A.a,{checked:!!(null===o||void 0===o?void 0:o.urgent),onChange:function(e){s(Object(y.a)(Object(y.a)({},o),{},{urgent:e.target.checked}))},name:"urgent",color:"primary"}),label:"\u0412\u0430\u0436\u043d\u043e"}),Object(G.jsx)(C.a,{margin:"dense",id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",value:null===o||void 0===o?void 0:o.name,onChange:function(e){console.log(e.target.value),s(Object(y.a)(Object(y.a)({},o),{},{name:e.target.value}))},fullWidth:!0}),Object(G.jsx)(C.a,{margin:"dense",id:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",value:null===o||void 0===o?void 0:o.description,onChange:function(e){console.log(e.target.value),s(Object(y.a)(Object(y.a)({},o),{},{description:e.target.value}))},fullWidth:!0})]})})]}),Object(G.jsxs)(D.a,{children:[Object(G.jsx)(f.a,{onClick:i,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(G.jsx)(f.a,{onClick:u,color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})},R=function(e){var t=e.day,n=e.dayTasks,c=e.onSave,i=e.onDelete,l=Object(a.useState)(!1),r=Object(v.a)(l,2),o=r[0],s=r[1],u=Object(a.useState)(null),d=Object(v.a)(u,2),j=d[0],b=d[1],O=function(e){b(null!==e&&void 0!==e?e:{date:t}),s(!0)};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(P,{isOpen:o,task:j,onSave:c,onClose:function(){b(null),s(!1)}}),Object(G.jsxs)("div",{className:"tasks",children:[Object(G.jsxs)("button",{className:"task add",onClick:function(){return O(null)},children:["+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"," "]}),n.map((function(e){return Object(G.jsxs)("div",{className:"task",children:[Object(G.jsx)(A.a,{checked:!!e.status,name:"urgent",color:"primary",className:"task-status",onChange:function(){return function(e){console.log(e),c(Object(y.a)(Object(y.a)({},e),{},{status:!e.status||!e.status}))}(e)}}),Object(G.jsxs)("button",{onClick:function(){return O(e)},className:"task-value",children:[Object(G.jsxs)("div",{children:[e.urgent?Object(G.jsx)("span",{className:"warning",children:"! "}):null,e.name]}),Object(G.jsx)("div",{children:e.description}),Object(G.jsx)("div",{children:e.description||e.name?null:Object(G.jsx)("span",{className:"noname",children:" \u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0430"})})]}),Object(G.jsx)("button",{className:"delete",onClick:function(){return t=e.id||0,console.log(t),void i(t);var t},children:Object(G.jsx)(N.a,{})})]},e.id)}))]})]})},W=n(57),H="TASKS",K=function(){var e=localStorage.getItem(H);return e?JSON.parse(e):[]},q=function(e){var t=Object(y.a)(Object(y.a)({},e),{},{id:Date.now()}),n=K(),a=[].concat(Object(W.a)(n),[t]),c=JSON.stringify(a);return localStorage.setItem(H,c),!0},Q=function(e){var t=K(),n=[].concat(Object(W.a)(t.filter((function(t){return t.id!==e.id}))),[e]),a=JSON.stringify(n);return localStorage.setItem(H,a),!0},U=Object(r.a)((function(e){return Object(o.a)({margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}})})),V=(new Date).setHours(0,0,0,0),X=function(e){return t=new Date(e).getDay(),g[t];var t},Y=function(e,t){return e.filter((function(e){return e.date&&e.date>=t&&e.date<t+x}))},Z=function(e){Object(m.a)(e);var t=U(),n=Object(a.useState)([]),c=Object(v.a)(n,2),i=c[0],l=c[1],r=Object(a.useState)(p(V)),o=Object(v.a)(r,2),s=o[0],u=o[1];console.log(i);var d=function(){var e=K();l(e.sort((function(e,t){var n,a;return(null!==(n=e.id)&&void 0!==n?n:0)-(null!==(a=t.id)&&void 0!==a?a:0)})))};Object(a.useEffect)((function(){d()}),[]);var j=function(e){console.log(e,"handleSave"),(e.id?Q:q)(e)&&d()},b=function(e){(function(e){var t=K(),n=Object(W.a)(t.filter((function(t){return t.id!==e})));console.log(n);var a=JSON.stringify(n);return localStorage.setItem(H,a),!0})(e)&&d()};return Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{className:"wrapper",children:[Object(G.jsxs)("h1",{className:"week-block",children:[Object(G.jsx)(f.a,{size:"small",className:t.margin,onClick:function(){u(p(s[0]-6048e5))},children:"last"}),Object(G.jsx)("span",{className:"week-name",children:"".concat(k(s[0])," - ").concat(k(s[6]))}),Object(G.jsx)(f.a,{size:"small",className:t.margin,onClick:function(){u(p(s[0]+6048e5))},children:"next"})]}),Object(G.jsx)("div",{className:"week",children:s.map((function(e){return Object(G.jsxs)("div",{className:"day",children:[Object(G.jsx)("h4",{children:k(e)}),Object(G.jsx)("h4",{children:X(e)}),Object(G.jsx)(R,{day:e,dayTasks:Y(i,e),onSave:j,onDelete:b})]})}))})]})})},$=Object(r.a)((function(e){return Object(o.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));var _=function(){var e=$();return Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)("div",{className:e.root,children:Object(G.jsx)(s.a,{position:"static",children:Object(G.jsxs)(u.a,{children:[Object(G.jsx)(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(G.jsx)(O.a,{})}),Object(G.jsx)(d.a,{variant:"h6",className:e.title,children:"\u041c\u043e\u0439 \u043f\u043b\u0430\u043d\u0435\u0440"})]})})}),Object(G.jsx)(Z,{})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),i(e),l(e)}))};l.a.render(Object(G.jsx)(c.a.StrictMode,{children:Object(G.jsx)(_,{})}),document.getElementById("root")),ee()},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.6ecec54e.chunk.js.map