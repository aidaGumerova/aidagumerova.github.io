(this["webpackJsonpmy-planer"]=this["webpackJsonpmy-planer"]||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(11),l=n.n(i),r=(n(101),n(146)),s=n(158),o=n(152),d=n(150),u=n(64),j=n(149),b=n(81),O=n.n(b),v=(n(102),n(32)),h=n(75),m=n(148),f=n(79),x=n.n(f),g=n(80),p=n.n(g),y=["\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430"],k=["\u042f\u043d\u0432\u0430\u0440\u044f","\u0424\u0435\u0432\u0440\u0430\u043b\u044f","\u041c\u0430\u0440\u0442\u0430","\u0410\u043f\u0440\u0435\u043b\u044f","\u041c\u0430\u044f","\u0418\u044e\u043d\u044f","\u0418\u044e\u043b\u044f","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044f","\u041e\u043a\u0442\u044f\u0431\u0440\u044f","\u041d\u043e\u044f\u0431\u0440\u044f","\u0414\u0435\u043a\u0430\u0431\u0440\u044f"],N=864e5,S=function(e){for(var t=e-((new Date(e).getDay()||7)-1)*N,n=[],c=0;c<7;c++)n.push(t+N*c);return n},w=function(e){var t=new Date(e);return"".concat(t.getDate(),"  ").concat(k[t.getMonth()])},C=(n(103),n(16)),D=n(78),T=n.n(D),F=(n(104),n(74),n(153)),I=n(157),J=n(147),B=n(144),E=n(145),M=n(143),W=n(37),L=n.n(W),R=n(76),z=n(15),A=n(154),G=n(151),P=n(155),H=n(4);L.a.locale("ru");var K=function(e){var t=e.isOpen,n=e.task,a=e.onSave,i=e.onClose,l=Object(c.useState)(),r=Object(v.a)(l,2),s=r[0],o=r[1];Object(c.useEffect)((function(){o(null!==n&&void 0!==n?n:{})}),[n]);var d=function(){if(s){var e,t,n,c,l,r={id:s.id,date:null!==(e=s.date)&&void 0!==e?e:null,urgent:null!==(t=s.urgent)&&void 0!==t&&t,name:null!==(n=s.name)&&void 0!==n?n:null,description:null!==(c=s.description)&&void 0!==c?c:null,status:null!==(l=s.status)&&void 0!==l?l:null};a(r),i()}};return Object(H.jsx)(z.a,{utils:R.a,locale:"ru",children:Object(H.jsx)("div",{children:Object(H.jsxs)(I.a,{open:t,onClose:i,"aria-labelledby":"form-dialog-title",children:[Object(H.jsx)(M.a,{id:"form-dialog-title",children:(null===s||void 0===s?void 0:s.id)?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438":"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"}),Object(H.jsxs)(B.a,{children:[Object(H.jsx)(E.a,{children:new Date((null===s||void 0===s?void 0:s.date)?null===s||void 0===s?void 0:s.date:0).toLocaleDateString()}),Object(H.jsx)("form",{name:"taskForm",onSubmit:d,children:Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(A.a,{disableToolbar:!0,lang:"ru",variant:"inline",format:"DD.MM.yyyy",margin:"normal",id:"date",label:"\u0414\u0430\u0442\u0430",value:null===s||void 0===s?void 0:s.date,onChange:function(e){var t;o(Object(C.a)(Object(C.a)({},s),{},{date:null!==(t=null===e||void 0===e?void 0:e.valueOf())&&void 0!==t?t:null}))}}),Object(H.jsx)(G.a,{control:Object(H.jsx)(P.a,{checked:!!(null===s||void 0===s?void 0:s.urgent),onChange:function(e){o(Object(C.a)(Object(C.a)({},s),{},{urgent:e.target.checked}))},name:"urgent",color:"primary"}),label:"\u0412\u0430\u0436\u043d\u043e"}),Object(H.jsx)(F.a,{margin:"dense",id:"name",label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",value:null===s||void 0===s?void 0:s.name,onChange:function(e){console.log(e.target.value),o(Object(C.a)(Object(C.a)({},s),{},{name:e.target.value}))},fullWidth:!0}),Object(H.jsx)(F.a,{margin:"dense",id:"description",label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",value:null===s||void 0===s?void 0:s.description,onChange:function(e){console.log(e.target.value),o(Object(C.a)(Object(C.a)({},s),{},{description:e.target.value}))},fullWidth:!0})]})})]}),Object(H.jsxs)(J.a,{children:[Object(H.jsx)(m.a,{onClick:i,color:"primary",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),Object(H.jsx)(m.a,{onClick:d,color:"primary",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})},q=function(e){var t=e.day,n=e.dayTasks,a=e.onSave,i=e.onDelete,l=Object(c.useState)(!1),r=Object(v.a)(l,2),s=r[0],o=r[1],d=Object(c.useState)(null),u=Object(v.a)(d,2),j=u[0],b=u[1],O=function(e){b(null!==e&&void 0!==e?e:{date:t}),o(!0)};return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(K,{isOpen:s,task:j,onSave:a,onClose:function(){b(null),o(!1)}}),Object(H.jsxs)("div",{className:"tasks",children:[Object(H.jsxs)("button",{className:"task add",onClick:function(){return O(null)},children:["+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"," "]}),n.map((function(e){return Object(H.jsxs)("div",{className:"task",children:[Object(H.jsx)(P.a,{checked:!!e.status,name:"urgent",color:"primary",className:"task-status",onChange:function(){return function(e){console.log(e),a(Object(C.a)(Object(C.a)({},e),{},{status:!e.status||!e.status}))}(e)}}),Object(H.jsxs)("button",{onClick:function(){return O(e)},className:"task-value",children:[Object(H.jsxs)("div",{children:[e.urgent?Object(H.jsx)("span",{className:"warning",children:"! "}):null,e.name]}),Object(H.jsx)("div",{children:e.description}),Object(H.jsx)("div",{children:e.description||e.name?null:Object(H.jsx)("span",{className:"noname",children:" \u0417\u0430\u0434\u0430\u0447\u0430 \u043d\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0430"})})]}),Object(H.jsx)("button",{className:"delete",onClick:function(){return t=e.id||0,console.log(t),void i(t);var t},children:Object(H.jsx)(T.a,{})})]},e.id)}))]})]})},Q=n(60),U="TASKS",V=function(){var e=localStorage.getItem(U);return e?JSON.parse(e):[]},X=function(e){var t=Object(C.a)(Object(C.a)({},e),{},{id:Date.now()}),n=V(),c=[].concat(Object(Q.a)(n),[t]),a=JSON.stringify(c);return localStorage.setItem(U,a),!0},Y=function(e){var t=V(),n=[].concat(Object(Q.a)(t.filter((function(t){return t.id!==e.id}))),[e]),c=JSON.stringify(n);return localStorage.setItem(U,c),!0},Z=Object(r.a)((function(e){return Object(s.a)({margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}})})),$=(new Date).setHours(0,0,0,0),_=function(e){return t=new Date(e).getDay(),y[t];var t},ee=function(e,t){return e.filter((function(e){return e.date&&e.date>=t&&e.date<t+N}))},te=function(e){Object(h.a)(e);var t=Z(),n=Object(c.useState)([]),a=Object(v.a)(n,2),i=a[0],l=a[1],r=Object(c.useState)($),s=Object(v.a)(r,2),o=s[0],d=s[1],u=S(o),j=S(o+6048e5),b=S(o-6048e5),O=function(){var e=V();l(e.sort((function(e,t){var n,c;return(null!==(n=e.id)&&void 0!==n?n:0)-(null!==(c=t.id)&&void 0!==c?c:0)})))};Object(c.useEffect)((function(){O()}),[]);var f=function(e){console.log(e,"handleSave"),(e.id?Y:X)(e)&&O()},g=function(e){(function(e){var t=V(),n=Object(Q.a)(t.filter((function(t){return t.id!==e})));console.log(n);var c=JSON.stringify(n);return localStorage.setItem(U,c),!0})(e)&&O()},y=Object(c.useRef)(null);return Object(c.useEffect)((function(){y.current&&y.current.scrollTo({left:y.current.offsetWidth})}),[o,i]),Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)("div",{className:"wrapper",children:[Object(H.jsxs)("h1",{className:"week-block",children:[Object(H.jsx)(m.a,{size:"small",className:t.margin,onClick:function(){y.current&&(y.current.scrollTo({left:0,behavior:"smooth"}),setTimeout((function(){d(o-6048e5)}),1e3))},children:Object(H.jsx)(x.a,{})}),Object(H.jsx)("span",{className:"week-name",children:"".concat(w(u[0])," - ").concat(w(u[6]))}),Object(H.jsx)(m.a,{size:"small",className:t.margin,onClick:function(){y.current&&(y.current.scrollTo({left:y.current.scrollWidth,behavior:"smooth"}),setTimeout((function(){d(o+6048e5)}),1e3))},children:Object(H.jsx)(p.a,{})})]}),Object(H.jsxs)("div",{className:"weeks",ref:y,children:[Object(H.jsx)("div",{className:"week",children:b.map((function(e){return Object(H.jsx)("div",{className:"day",children:Object(H.jsxs)("div",{className:"content-day-wrapper",children:[Object(H.jsx)("h4",{children:w(e)}),Object(H.jsx)("h4",{children:_(e)}),Object(H.jsx)(q,{day:e,dayTasks:ee(i,e),onSave:f,onDelete:g})]})})}))}),Object(H.jsx)("div",{className:"week",children:u.map((function(e){return Object(H.jsx)("div",{className:"day",children:Object(H.jsxs)("div",{className:"content-day-wrapper",children:[Object(H.jsx)("h4",{children:w(e)}),Object(H.jsx)("h4",{children:_(e)}),Object(H.jsx)(q,{day:e,dayTasks:ee(i,e),onSave:f,onDelete:g})]})})}))}),Object(H.jsx)("div",{className:"week",children:j.map((function(e){return Object(H.jsx)("div",{className:"day",children:Object(H.jsxs)("div",{className:"content-day-wrapper",children:[Object(H.jsx)("h4",{children:w(e)}),Object(H.jsx)("h4",{children:_(e)}),Object(H.jsx)(q,{day:e,dayTasks:ee(i,e),onSave:f,onDelete:g})]})})}))})]})]})})},ne=Object(r.a)((function(e){return Object(s.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));var ce=function(){var e=ne();return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)("div",{className:e.root,children:Object(H.jsx)(o.a,{position:"static",children:Object(H.jsxs)(d.a,{children:[Object(H.jsx)(j.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(H.jsx)(O.a,{})}),Object(H.jsx)(u.a,{variant:"h6",className:e.title,children:"\u041c\u043e\u0439 \u043f\u043b\u0430\u043d\u0435\u0440"})]})})}),Object(H.jsx)(te,{})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,161)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),c(e),a(e),i(e),l(e)}))};l.a.render(Object(H.jsx)(a.a.StrictMode,{children:Object(H.jsx)(ce,{})}),document.getElementById("root")),ae()}},[[110,1,2]]]);
//# sourceMappingURL=main.c358d833.chunk.js.map